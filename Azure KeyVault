Helps you safeguard cryptographic keys & other secrets used by cloud applications and services.
KeyVault focuses on three things:
1. Certificate management: For public and private SSL certificates.
2. Key management: Create and control encrypted keys used to encrypt your data.
3. Secrets management: Control access to tokens, passwords, certificates, API keys and other secrets.
NOTE: Certificates contain key pairs.
-------------------
HSM(Hardware Security Management): Piece of hardware used to store encrypted keys.
- It follows following standards recognized by US & Canadian Govt for securing your keys etc:
  * FIPS- Federal Information Processing Standard
  * HSM's that are multi-tenant are FIPS 140-2 level2 Compliant(multiple customers virtually isolated on an HSM).
  * HSM's that are single-tenant are FIPS 140-2 level3 Compliant(single customer on a dedicated HSM).
-------------------
Azure KeyVault-Vault:
Azure KeyVault provides two types of containers:
1. Vaults: Supports software & HSM backend keys.
2. HSM pools: Only support HSM backend keys.
    - to activate it, provide a min of 3 RSA key-pairs(max of 10)
    - Specify min no keys req to decrypt security domain(called quorum).
NOTE: 
- You do not choose container on creation, instead choose Standard or Premium.
- When you choose Premium & create enough RSA key pairs, you will begin to use HSM pools.
-------------------
Azure KeyVault Rest API: Acts as middle man between Application and KeyVault.
Used to programmatically manage Azure KeyVault resources, allowing you to perform operations such as 
- Create/Import/Revoke/Delete Keys or Secrets.
- Authorize users or applications to access its keys or secrets.
- Monitor & manage Key usage.

Azure KeyVault rest API supprts three types of authentication:
1. Managed Identities(most recomended).
2. Service Principal & Cretificate: Uses a certificate for authentication.
3. Service Principal & Secret: Uses Identity & Secret key.
-------------------
Soft delete: Allows you to recover or prmanently delete Secrets from the duration of retention period(it is enabled by default).
-------------------
Azure KeyVault Pricing:
AKV has two pricing tiers:
1. Standard(Only software protected)
2. Premium(Both software and HSM protected).
-------------------
Azure KeyVault Double encryption
- It is where two or more independent layers of encryption are enabled to protect against compromises of any one layer of encryption.
- Microsoft has two layered approach each for 'Data AT-Rest', 'Data In-Transit'.

Data encryption using customer-managed keys.
Infrastructure encryption using Platform-managed keys.

Transit encryption using TLS 1.2
Additional layer of encryption provided at infra level
-------------------
Azure KeyVault-Keys:
You get three options when creating a key:
1. Generate: Azure will get the key.
2. Import: Import an existing RSA key.
3. Restore Backup: You download the key in prior and you can back it up and restore.

You can use either RSA or EC key types:
RSA(Rivest Shamir Adleman)
- 2048, 3072, 4096
EC(Elliptic-curve Cryptographic)
- P-256, P-384, P-521, P-256k
NOTE: 
- For keys generated by Azure, you can set activation & expiration dates.
- You can create new version of keys.
- Can download backups of keys.
- When you have premium vault you get options for HSM.
-------------------
Encryption type:
MMK(Microsoft Managed Keys): Managed by Microsoft & we can't see them in vault.
CMK(Customer Managed Keys): Created and managed by users.
-------------------
Azure KeyVault Secrets: To store generic secrets like Passwords & database connection strings.
- KeyVault stores secrets sequence of octets(8-bit bytes).
- Each secret with max size of 25k bytes.
-------------------
Secret Attributes:
Expiration
Not Before
Enables(default is 'true')
-------------------
X.509 Certificates:
PKI(Public Key Infrastructure)
- It is a set of roles, policies, hardware, software & procedures needed to create, manage, distribute, use, store & revoke digital certificates & manage Public-Key encryption.
- It is a standard defined by International Telecommunication Union(ITU) For public key certifications.
- X.509 are used in many internet protocols including SSL/TLS, HTTPS, Signed & Encrypted email, Code signing & Document signing.

A certificate contains:
- An Identity: Hostname, Organization or Individual
- A Public Key: RSA, DSA, ECDA etc

Who Issues these Cretificates?
Certificate Authority(CA): A CA acts as a trusted 3rd party - Trusted both by Subject(Owner) of cert & by party relying upon certs.
-------------------
KeyVault Backup & Restore:
NOTE: If enabled purge protection while creating key vault you can disable it using "Access Policies" [Access Policies--add purge--save--now go to manage deleted keys--select deleted key & purge option is now available.
-------------------
